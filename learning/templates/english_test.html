{% extends 'base.html' %}

{% block title %}English Level Test{% endblock %}

{% block content %}
<div class="container">
    <h1>English Level Test</h1>
    <p>Question {{ current_number }} of {{ total_number }}</p>
    <form id="testForm" method="post">
        {% csrf_token %}
        <div class="question">
            <p>{{ question.text }}</p>
            <div class="dropdown-container">
                <select id="answerSelect" name="answer" class="answer-select" required>
                    <option value="" disabled selected>Select your answer</option>
                    {% for answer in answers %}
                        <option value="{{ answer.id }}">{{ answer.text }}</option>
                    {% endfor %}
                </select>
            </div>
        </div>
        <button type="submit" id="nextButton" class="next-button">Next</button>
    </form>    
</div>
{% endblock %}

<script>
document.addEventListener('DOMContentLoaded', function () {
    const answerSelect = document.getElementById('answerSelect');
    const nextButton = document.getElementById('nextButton');

    answerSelect.addEventListener('change', function () {
        // Optionally, you can add other behaviors here
    });

    document.getElementById('testForm').addEventListener('submit', function (event) {
        if (!answerSelect.value) {
            event.preventDefault(); // Prevent form submission if no answer is selected
            alert("Please select an answer before proceeding.");
        }
    });
});
</script>
