{% extends 'base.html' %}

{% load static %}

{% block title %}Students{% endblock %}

{% block content %}

<link rel="stylesheet" href="{% static 'css/students.css' %}">

<div class="container">
    <h1>Students</h1>

    {% if student_profiles %}
        <h2>List of Students</h2>
        <div class="students-list">
            {% for entry in student_profiles %}
                <div class="student-card">
                    <!-- Student's Profile Picture -->
                    <div class="student-picture">
                        {% if entry.profile.profile_picture %}
                            <img src="{{ entry.profile.profile_picture.url }}" alt="Profile Picture" class="profile-pic">
                        {% else %}
                            <img src="{% static 'default_profile_picture.jpg' %}" alt="Default Picture" class="profile-pic">
                        {% endif %}
                    </div>

                    <!-- Student's Full Name -->
                    <div class="student-details">
                        <strong>{{ entry.profile.first_name }} {{ entry.profile.last_name }}</strong>
                        <p>Email: <a href="mailto:{{ entry.student.email }}">{{ entry.student.email }}</a></p>

                        <!-- Booked Classes -->
                        <div class="student-classes">
                            <h4>Booked Classes</h4>
                            <ul>
                                {% if entry.booked_classes %}
                                    {% for scheduled_class in entry.booked_classes %}
                                        <li>{{ scheduled_class.name }} - {{ scheduled_class.scheduled_time }}</li>
                                    {% endfor %}
                                {% else %}
                                    <li>No booked classes</li>
                                {% endif %}
                            </ul>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <p>No students found.</p>
    {% endif %}
</div>
{% endblock %}
